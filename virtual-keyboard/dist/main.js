(()=>{"use strict";const e=JSON.parse('{"X":[{"letter":"§","code":"Backquote"},{"letter":"1","code":"Digit1"},{"letter":"2","code":"Digit2"},{"letter":"3","code":"Digit3"},{"letter":"4","code":"Digit4"},{"letter":"5","code":"Digit5"},{"letter":"6","code":"Digit6"},{"letter":"7","code":"Digit7"},{"letter":"8","code":"Digit8"},{"letter":"9","code":"Digit9"},{"letter":"0","code":"Digit0"},{"letter":"-","code":"Minus"},{"letter":"=","code":"Equal"},{"letter":"delete","code":"Backspace","type":"functional-key"},{"letter":"tab","code":"Tab","type":"functional-key","value":"  "},{"letter":"q","letterBig":"Q","rusLetter":"й","rusLetterBig":"Й","code":"KeyQ"},{"letter":"w","letterBig":"W","rusLetter":"ц","rusLetterBig":"Ц","code":"KeyW"},{"letter":"e","letterBig":"E","rusLetter":"у","rusLetterBig":"У","code":"KeyE"},{"letter":"r","letterBig":"R","rusLetter":"к","rusLetterBig":"К","code":"KeyR"},{"letter":"t","letterBig":"T","rusLetter":"е","rusLetterBig":"Е","code":"KeyT"},{"letter":"y","letterBig":"Y","rusLetter":"н","rusLetterBig":"Н","code":"KeyY"},{"letter":"u","letterBig":"U","rusLetter":"г","rusLetterBig":"Г","code":"KeyU"},{"letter":"i","letterBig":"I","rusLetter":"ш","rusLetterBig":"Ш","code":"KeyI"},{"letter":"o","letterBig":"O","rusLetter":"щ","rusLetterBig":"Щ","code":"KeyO"},{"letter":"p","letterBig":"P","rusLetter":"з","rusLetterBig":"З","code":"KeyP"},{"letter":"[","letterBig":"[","rusLetter":"х","rusLetterBig":"Х","code":"BracketLeft"},{"letter":"]","letterBig":"]","rusLetter":"ъ","rusLetterBig":"Ъ","code":"BracketRight"},{"letter":"enter","code":"Enter","type":"functional-key"},{"letter":"caps","code":"CapsLock","type":"functional-key"},{"letter":"a","letterBig":"A","rusLetter":"ф","rusLetterBig":"Ф","code":"KeyA"},{"letter":"s","letterBig":"S","rusLetter":"ы","rusLetterBig":"Ы","code":"KeyS"},{"letter":"d","letterBig":"D","rusLetter":"в","rusLetterBig":"В","code":"KeyD"},{"letter":"f","letterBig":"F","rusLetter":"а","rusLetterBig":"А","code":"KeyF"},{"letter":"g","letterBig":"G","rusLetter":"п","rusLetterBig":"П","code":"KeyG"},{"letter":"h","letterBig":"H","rusLetter":"р","rusLetterBig":"Р","code":"KeyH"},{"letter":"j","letterBig":"J","rusLetter":"о","rusLetterBig":"О","code":"KeyJ"},{"letter":"k","letterBig":"K","rusLetter":"л","rusLetterBig":"Л","code":"KeyK"},{"letter":"l","letterBig":"L","rusLetter":"д","rusLetterBig":"Д","code":"KeyL"},{"letter":";","letterBig":";","rusLetter":"ж","rusLetterBig":"Ж","code":"Semicolon"},{"letter":"\'","letterBig":"\'","rusLetter":"э","rusLetterBig":"Э","code":"Quote"},{"letter":"\\\\","letterBig":"\\\\","rusLetter":"ё","rusLetterBig":"Ё","code":"Backslash"},{"letter":"shift","code":"ShiftLeft","type":"functional-key"},{"letter":"z","letterBig":"Z","rusLetter":"я","rusLetterBig":"Я","code":"KeyZ"},{"letter":"x","letterBig":"X","rusLetter":"ч","rusLetterBig":"Ч","code":"KeyX"},{"letter":"c","letterBig":"C","rusLetter":"с","rusLetterBig":"С","code":"KeyC"},{"letter":"v","letterBig":"V","rusLetter":"м","rusLetterBig":"М","code":"KeyV"},{"letter":"b","letterBig":"B","rusLetter":"и","rusLetterBig":"И","code":"KeyB"},{"letter":"n","letterBig":"N","rusLetter":"т","rusLetterBig":"Т","code":"KeyN"},{"letter":"m","letterBig":"M","rusLetter":"ь","rusLetterBig":"Ь","code":"KeyM"},{"letter":",","letterBig":",","rusLetter":"б","rusLetterBig":"Б","code":"Comma"},{"letter":".","letterBig":".","rusLetter":"ю","rusLetterBig":"Ю","code":"Period"},{"letter":"/","letterBig":"?","rusLetter":"/","rusLetterBig":"?","code":"Slash"},{"letter":"shift","code":"ShiftRight","type":"functional-key"},{"letter":"lang","code":"ControlLeft","type":"functional-key"},{"letter":" ","code":"Space"}]}');function t(e){var t=e.tag,r=void 0===t?"button":t,a=e.className,n=void 0===a?"":a,l=e.textContent,o=void 0===l?"":l,i=e.attr,u=void 0===i?"":i,g=e.parent,c=void 0===g?null:g,s=e.listener,d=void 0===s?"":s,L=e.callback,y=void 0===L?null:L,f=document.createElement(r);if(f.className=n,o&&(f.textContent=o),u)for(var B in u)f.setAttribute(B,u[B]);return d&&f.addEventListener(d,y),c&&c.appendChild(f),f}function r(e,t){return"small"===e&&"eng"===t?"letter":"big"===e&&"eng"===t?"letterBig":"small"===e&&"rus"===t?"rusLetter":"big"===e&&"rus"===t?"rusLetterBig":void 0}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"small",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"eng";B(a);var n=r(t,a);return f.buttons.forEach((function(t,r){return Object.assign(t,{textContent:e.X[r][n]?e.X[r][n]:e.X[r].letter})})),[t,a]}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,l,o,i=[],u=!0,g=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=l.call(r)).done)&&(i.push(a.value),i.length!==t);u=!0);}catch(e){g=!0,n=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(g)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function o(e,t){var r,l,o,i;e.pointerType&&(e=this),"caps"===e.textContent&&("small"===f.templateConfig?(r=n(a("big",f.language),2),f.templateConfig=r[0],f.language=r[1]):(l=n(a("small",f.language),2),f.templateConfig=l[0],f.language=l[1])),"lang"===e.textContent&&("rus"===f.language?(o=n(a(f.templateConfig,"eng"),2),f.templateConfig=o[0],f.language=o[1]):(i=n(a(f.templateConfig,"rus"),2),f.templateConfig=i[0],f.language=i[1])),"delete"===e.textContent&&(f.textAreaData.pop(),f.textarea.value=f.textAreaData.join("")),"shift"===e.textContent&&u(t),"tab"===e.textContent&&(f.textarea.value+="  ",f.textAreaData.push("  "))}function i(e){e.pointerType?(f.textarea.value+=this.textContent,f.textAreaData.push(this.textContent)):(f.textarea.value+=e.textContent,f.textAreaData.push(e.textContent))}function u(e){e&&("keydown"===e.type||"mousedown"===e.type?"small"===f.templateConfig?a("big",f.language):a("small",f.language):a(f.templateConfig,f.language))}function g(t){t.preventDefault();var r=function(e,t){var r;return f.buttons.forEach((function(a){a.getAttribute("data-code")===t&&("keydown"===e.type?(a.classList.add("active"),r=a):a.classList.remove("active"))})),r}(t,t.code);"keydown"===t.type&&function(t,r){e.X.find((function(e){return e.code===t.code}))&&e.X.forEach((function(e){e.code===r.getAttribute("data-code")&&(e.type?o(r,t):i(r))}))}(t,r),"keyup"===t.type&&u(t)}var c,s,d=t({tag:"div",parent:document.body,className:"wrapper"}),L=t({tag:"textarea",parent:d,className:"textarea",attr:{autofocus:""}}),y=t({tag:"div",className:"keyboard",parent:d}),f={templateConfig:"small",language:"eng",textAreaData:[],textarea:L};function B(e){localStorage.setItem("language",e)}function p(e){var t=e.target;f.buttons.forEach((function(r){"shift"===t.textContent&&u(e)}))}document.addEventListener("keydown",g),document.addEventListener("keyup",g),localStorage.getItem("language")||B(f.language),localStorage.getItem("language")&&(f.language=localStorage.getItem("language")),s=r((c=f).templateConfig,c.language),f.buttons=e.X.map((function(e){return t({textContent:e[s]?e[s]:e.letter,className:"Space"===e.code?"keyboard__key space":"keyboard__key",attr:{"data-code":e.code},parent:y,listener:"click",callback:e.type?o:i})})),f.buttons.forEach((function(e){e.addEventListener("mousedown",p),e.addEventListener("mouseup",p)}))})();